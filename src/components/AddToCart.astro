---
import { getVariantsData } from '../libs/getVariantsData'
import AddToCartReact from './react/AddToCartReact'

export interface Props {
  productId: number
  accessToken: string
}

const { productId, accessToken } = Astro.props
const data = await getVariantsData(productId)
---

<script src="/buybutton.js" is:inline></script>
<AddToCartReact
  productId={productId}
  accessToken={accessToken}
  productSchedule={data.schedule}
  productVariants={data.variants}
  client:load
/>
